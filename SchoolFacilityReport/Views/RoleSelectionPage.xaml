<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:SchoolFacilityReport.ViewModels"
             x:Class="SchoolFacilityReport.Views.RoleSelectionPage"
             BackgroundColor="{StaticResource PageBackground}"
             Shell.NavBarIsVisible="False">

    <!-- BindingContext is set in CodeBehind via Dependency Injection -->

    <Grid RowDefinitions="Auto, *" Padding="30,60,30,30">
        
        <!-- Header -->
        <VerticalStackLayout Grid.Row="0" Spacing="10" Margin="0,0,0,40">
            <Label Text="Who are you?" 
                   Style="{StaticResource Headline}"
                   HorizontalOptions="Start"
                   FontSize="32"/>
            <Label Text="Choose your role to get started." 
                   Style="{StaticResource SubHeadline}"
                   HorizontalOptions="Start"/>
        </VerticalStackLayout>

        <!-- Role Cards -->
        <VerticalStackLayout Grid.Row="1" Spacing="25" VerticalOptions="Center">
            
            <!-- Student Card -->
            <Border StrokeThickness="0"
                    BackgroundColor="{StaticResource Surface}"
                    StrokeShape="RoundRectangle 24">
                <Border.Shadow>
                    <Shadow Brush="Black" Offset="0,10" Radius="20" Opacity="0.05"/>
                </Border.Shadow>
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding SelectStudentCommand}" />
                </Border.GestureRecognizers>
                
                <Grid ColumnDefinitions="Auto, *, Auto" Padding="20" ColumnSpacing="15">
                    <!-- Icon -->
                    <Border Grid.Column="0" 
                            HeightRequest="60" 
                            WidthRequest="60" 
                            StrokeShape="RoundRectangle 20"
                            StrokeThickness="0"
                            BackgroundColor="{StaticResource AccentSoft}">
                        <Label Text="ðŸŽ“" 
                               FontSize="28" 
                               HorizontalOptions="Center" 
                               VerticalOptions="Center"/>
                    </Border>
                    
                    <!-- Text -->
                    <VerticalStackLayout Grid.Column="1" VerticalOptions="Center" Spacing="4">
                        <Label Text="Student" 
                               FontSize="20" 
                               FontAttributes="Bold" 
                               TextColor="{StaticResource TextPrimary}"/>
                        <Label Text="Report and track issues" 
                               FontSize="14" 
                               TextColor="{StaticResource TextSecondary}"/>
                    </VerticalStackLayout>
                    
                    <!-- Arrow -->
                    <Label Grid.Column="2" 
                           Text="â€º" 
                           FontSize="30" 
                           TextColor="{StaticResource PrimarySoft}" 
                           VerticalOptions="Center"/>
                </Grid>
            </Border>

            <!-- Admin Card -->
            <Border StrokeThickness="0"
                    BackgroundColor="{StaticResource Surface}"
                    StrokeShape="RoundRectangle 24">
                <Border.Shadow>
                     <Shadow Brush="Black" Offset="0,10" Radius="20" Opacity="0.05"/>
                </Border.Shadow>
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding SelectAdminCommand}" />
                </Border.GestureRecognizers>
                
                <Grid ColumnDefinitions="Auto, *, Auto" Padding="20" ColumnSpacing="15">
                    <!-- Icon -->
                    <Border Grid.Column="0" 
                            HeightRequest="60" 
                            WidthRequest="60" 
                            StrokeShape="RoundRectangle 20"
                            StrokeThickness="0"
                            BackgroundColor="{StaticResource PrimarySoft}">
                        <Label Text="ðŸ› ï¸" 
                               FontSize="28" 
                               HorizontalOptions="Center" 
                               VerticalOptions="Center"/>
                    </Border>
                    
                    <!-- Text -->
                    <VerticalStackLayout Grid.Column="1" VerticalOptions="Center" Spacing="4">
                        <Label Text="Maintenance" 
                               FontSize="20" 
                               FontAttributes="Bold" 
                               TextColor="{StaticResource TextPrimary}"/>
                        <Label Text="Manage facility reports" 
                               FontSize="14" 
                               TextColor="{StaticResource TextSecondary}"/>
                    </VerticalStackLayout>
                    
                    <!-- Arrow -->
                    <Label Grid.Column="2" 
                           Text="â€º" 
                           FontSize="30" 
                           TextColor="{StaticResource PrimarySoft}" 
                           VerticalOptions="Center"/>
                </Grid>
            </Border>
            
        </VerticalStackLayout>
    </Grid>
</ContentPage>